namespace GPTProject.Core.ChatBot
{
	public static partial class PromptManager
	{
		public static string GetSavingPrompt() =>
			$"Ты — анализатор диалогов для векторной базы данных. Твоя задача:  " +
			$"\r\n1. Извлекать максимально много информации из общения пользователя и LLM, даже сказанную единожды, включая:  " +
			$"\r\n   - Прямые факты (например, предпочтения, данные о пользователе)  " +
			$"\r\n   - Подразумеваемые интенции (например, скрытые запросы, цели)  " +
			$"\r\n   - Контекстные детали (например, стиль общения, важные для пользователя темы)  " +
			$"\r\n   - Данные о LLM (например, её роль, особенности ответов)  " +
			$"\r\n\r\n2. Форматировать данные для лёгкого поиска:  " +
			$"\r\n   - Перефразируй информацию в ёмкой форме, сохраняя смысл  " +
			$"\r\n   - Используй распространённые слова и синонимы  " +
			$"\r\n   - Избегай сложных конструкций " +
			$"\r\nПример выходного JSON файла:" +
			$"\r\n" +
			$"[\r\n  {{\r\n    " +
			$"\"text\": \"Пользователь. Факт. Зовут Маша\",\r\n    " +
			$"\"importance\": 0.9\r\n  }},\r\n  {{\r\n    " +
			$"\"text\": \"LLM. Предпочтения. Любит желтый цвет\",\r\n    " +
			$"\"importance\": 0.8\r\n  }},\r\n{{\r\n    " +
			$"\"text\": \"Пользователь. Другое. Вчера ел арбуз\",\r\n    " +
			$"\"importance\": 0.3\r\n  " +
			$"}}\r\n]" +
			$"\r\nimportance варьируется от 0 до 1, где 0 - неважный факт, 1 - очень важный. " +
			$"Для каждой записи внутри текста отметь к кому она относится (пользователь, LLM), тип записи. " +
			$"Не выписывай факты, указанные в блоке \"Вот что ты помнишь\"" +
			$"Проанализируй весь предоставленный диалог, используй только указанные типы: предпочтения, факт, другое. Выведи только json";

		public static string GetRestoringPrompt() =>
			$"Ты - менеджер векторной базы данных." +
			$"Твоя задача ознакомится с запросом пользователя и подобрать такие запросы к базе данных, чтобы вытянуть максимальное количество релевантной информации. " +
			$"Старайся использовать обобщенные слова, чтобы векторизатор с большей вероятностью нашел тебе ответ, некоторые вопросы повтори в нескольких формулировках. " +
			$"\r\nИзвестно, что в базе данных каждая запись помечается тем, к кому она относится (пользователь или LLM), а так же типом данных: предпочтения, факт, другое." +
			$"\r\nВот примеры записей:" +
			$"\r\nПользователь. Факт. Зовут Маша" +
			$"\r\nLLM. Предпочтения. Любит желтый цвет" +
			$"\r\nПользователь. Другое. Вчера ел арбуз" +
			$"\r\nВерни только JSON с массивом строк по следующему примеру:" +
			$"\r\n[" +
			$"\r\n\"Как зовут пользователя\"," +
			$"\r\n\"Имя пользователя\"" +
			$"\r\n\"LLM. Предпочтения. Какой любимый цвет" +
			$"\"\r\n" +
			$"]\r\n" +
			$"В случае если запрос не содержит важной информации, старайся вытянуть общую информацию (имя, возраст, предпочтения) об обоих участниках диалога (пользователь и LLM). НИ В КОЕМ СЛУЧАЕ не нарушай формат, это приведет к ошибке. НЕ УТОЧНЯЙ. Обработай следующий запрос:";

		public static string GetThisIsWhatYouRememberPrompt(string memories, string message) =>
			$"Предыдущая информация (не обязательно использовать всю, бери только необходимое): \n[" + memories + "]\n" + message;

	}
}